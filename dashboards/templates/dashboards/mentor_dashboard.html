{% extends 'base.html' %}
{% load static %}

{% block header_title %}Panel del Mentor{% endblock %}

{% block extra_styles %}
    <link rel="stylesheet" href="{% static 'dashboards/css/dashboard_styles.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-wrapper">
    <!-- Header del Dashboard -->
    <div class="dashboard-header">
    </div>

    <!-- Navegaci√≥n de Acciones R√°pidas -->
    <nav class="dashboard-nav">
        <div class="dashboard-nav-right">
        </div>
    </nav>

    <!-- Contenedor principal del dashboard -->
    <div class="dashboard-container">
        <!-- Estad√≠sticas principales -->
        <div class="stats-container">
        {% include 'dashboards/components/stats_card.html' with title="Mis Tributos" value=stats.mis_tributos icon="üë•" %}
        {% include 'dashboards/components/stats_card.html' with title="En Competencia" value=stats.en_competencia icon="üéØ" color="info" %}
        {% include 'dashboards/components/stats_card.html' with title="Victorias" value=stats.victorias icon="üèÜ" color="success" %}
        {% include 'dashboards/components/stats_card.html' with title="Distrito" value=stats.distrito icon="üèõÔ∏è" %}
        </div>

        <!-- Contenido principal del dashboard -->
        <div class="dashboard-content">
<div class="dashboard-row">
    <div class="dashboard-col-8">
        <div class="dashboard-card">
            <h3>üë• Tributos bajo mi Mentor√≠a</h3>
            <div class="tributos-grid">
                {% for tributo in mis_tributos %}
                <div class="tributo-card">
                    <div class="tributo-header">
                        {% if tributo.personaje.foto %}
                            <img src="{{ tributo.personaje.foto.url }}" alt="{{ tributo.personaje.get_full_name }}" class="tributo-avatar">
                        {% else %}
                            <div class="tributo-avatar-placeholder">{{ tributo.personaje.first_name.0 }}{{ tributo.personaje.last_name.0 }}</div>
                        {% endif %}
                        <div class="tributo-info">
                            <h4>{{ tributo.personaje.get_full_name }}</h4>
                            <p class="tributo-code">{{ tributo.codigo_tributo }}</p>
                        </div>
                    </div>
                    <div class="tributo-stats">
                        <div class="stat">
                            <span class="label">Nivel:</span>
                            <span class="value">{{ tributo.get_nivel_display }}</span>
                        </div>
                        <div class="stat">
                            <span class="label">Estado:</span>
                            <span class="status-badge status-{{ tributo.estado }}">{{ tributo.get_estado_display }}</span>
                        </div>
                    </div>
                    <div class="tributo-actions">
                        <button class="btn-sm">Ver Perfil</button>
                        <button class="btn-sm">Entrenar</button>
                    </div>
                </div>
                {% empty %}
                <div class="empty-state">
                    <p>A√∫n no tienes tributos asignados.</p>
                    <p class="subtitle">Los tributos aparecer√°n aqu√≠ cuando sean asignados a tu distrito.</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="dashboard-card">
            <h3>üìö Programas de Entrenamiento</h3>
            <div class="training-programs">
                <div class="program-item">
                    <div class="program-icon">üíª</div>
                    <div class="program-info">
                        <h4>Algoritmos B√°sicos</h4>
                        <p>Fundamentos de estructuras de datos</p>
                        <div class="program-progress">
                            <div class="progress-bar"><div class="progress-fill" style="width: 60%"></div></div>
                            <span>60% completado</span>
                        </div>
                    </div>
                </div>
                <div class="program-item">
                    <div class="program-icon">üßÆ</div>
                    <div class="program-info">
                        <h4>Programaci√≥n Din√°mica</h4>
                        <p>Optimizaci√≥n y memorizaci√≥n</p>
                        <div class="program-progress">
                            <div class="progress-bar"><div class="progress-fill" style="width: 30%"></div></div>
                            <span>30% completado</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="dashboard-col-4">
        {% include 'dashboards/components/quick_actions.html' with actions=mentor_actions %}
        
        <div class="dashboard-card">
            <h3>üìä Rendimiento General</h3>
            <div class="performance-chart">
                <div class="chart-placeholder">
                    <p>Gr√°fico de rendimiento</p>
                    <p class="subtitle">Pr√≥ximamente</p>
                </div>
            </div>
        </div>

        <div class="dashboard-card">
            <h3>üéØ Objetivos del Mes</h3>
            <ul class="objectives-list">
                <li class="objective-item completed">
                    <span class="checkbox">‚úì</span>
                    <span>Entrenar 5 tributos en algoritmos b√°sicos</span>
                </li>
                <li class="objective-item">
                    <span class="checkbox">‚òê</span>
                    <span>Preparar material de estructuras de datos</span>
                </li>
                <li class="objective-item">
                    <span class="checkbox">‚òê</span>
                    <span>Realizar simulacro de competencia</span>
                </li>
            </ul>
        </div>
        </div>
    </div>
</div>
{% endblock %}
